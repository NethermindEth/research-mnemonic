\doxysection{reconstruct Namespace Reference}
\label{namespacereconstruct}\index{reconstruct@{reconstruct}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \textbf{ get\+\_\+reconstruction\+\_\+data} (dict)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{namespacereconstruct_a5c1ad58562aea3eaa6c88bb58b5b6995}} 
{\bfseries parser} = argparse.\+Argument\+Parser()
\item 
\mbox{\label{namespacereconstruct_accd6f3a7cd016e7c015c8081f6678557}} 
{\bfseries action}
\item 
\mbox{\label{namespacereconstruct_a2011c80d89847f1cbc8798ee41d89bb5}} 
{\bfseries help}
\item 
\mbox{\label{namespacereconstruct_acd439a2778e20e5c79b7a3b26cee5ece}} 
{\bfseries args} = parser.\+parse\+\_\+args()
\item 
\mbox{\label{namespacereconstruct_a77bb21254a2011d8974e7b8a5adcd910}} 
{\bfseries verbose} = args.\+verbose
\item 
\mbox{\label{namespacereconstruct_a97c3a1afe8ab03de8129ccd60f66bcda}} 
{\bfseries list\+\_\+of\+\_\+share\+\_\+filenames} = glob.\+glob(\textquotesingle{}shares/share$\ast$[0-\/9].json\textquotesingle{})
\item 
\mbox{\label{namespacereconstruct_ab9ba139d7e8d528f81a754ae6ebb7e5d}} 
string {\bfseries reconstruction\+\_\+json\+\_\+path} = list\+\_\+of\+\_\+share\+\_\+filenames[0] if verbose else \textquotesingle{}shares/reconstruction\+\_\+data.\+json\textquotesingle{}
\item 
\mbox{\label{namespacereconstruct_a464f6ac37033d1211397f041f5076d10}} 
{\bfseries data} = json.\+load(json\+\_\+file)
\item 
\mbox{\label{namespacereconstruct_a031328733b2de6ff69eb18ae68a96cdb}} 
{\bfseries total\+\_\+shares}
\item 
\mbox{\label{namespacereconstruct_a7bd350ee9c505cf4d404e62104541f9f}} 
{\bfseries threshold}
\item 
\mbox{\label{namespacereconstruct_ab3b7d22fa7ebdde2716ddbd4acf77131}} 
{\bfseries primitive\+\_\+poly}
\item 
\mbox{\label{namespacereconstruct_a1ef92b5d38b5bc8250da91412d743ea2}} 
{\bfseries word\+\_\+list}
\item 
\mbox{\label{namespacereconstruct_a12b17f69d46eba6b137dab30ede2cdbe}} 
{\bfseries dict\+\_\+bits} = \textbf{ word\+\_\+coding.\+get\+\_\+dictionary\+\_\+bits}(word\+\_\+list)
\item 
\mbox{\label{namespacereconstruct_a3c2378a0254bff8c2a1c33a7112e5c98}} 
{\bfseries num\+\_\+words} = \textbf{ shamir.\+get\+\_\+polynomial\+\_\+degree}(primitive\+\_\+poly)//dict\+\_\+bits
\item 
\mbox{\label{namespacereconstruct_a8db263a21700f3cbfe351b57a85f5af5}} 
list {\bfseries x\+\_\+id} = [$\,$]
\item 
\mbox{\label{namespacereconstruct_a954cf48bf1acaacaeb55884b6a9308ed}} 
list {\bfseries y\+\_\+shares} = [$\,$]
\item 
\mbox{\label{namespacereconstruct_a7fb9d2223b80a3b292a82fe29775c132}} 
{\bfseries json\+\_\+share} = json.\+load(json\+\_\+file)
\item 
\mbox{\label{namespacereconstruct_a8b670d4e508cdd332eb0508455a3e1f1}} 
{\bfseries binary\+\_\+share} = \textbf{ word\+\_\+coding.\+encode\+\_\+words}(word\+\_\+list, json\+\_\+share[\textquotesingle{}share\textquotesingle{}])
\item 
\mbox{\label{namespacereconstruct_a7ead1e6c7bcdb8be8ed29ef8626254a9}} 
{\bfseries reconstructed\+\_\+secret} = \textbf{ shamir.\+secret\+\_\+reconstruction}(x\+\_\+id, y\+\_\+shares, primitive\+\_\+poly)
\item 
\mbox{\label{namespacereconstruct_ab2e239a681f33d1713016e4df445a6d3}} 
{\bfseries seed\+\_\+phrase} = \textbf{ word\+\_\+coding.\+decode\+\_\+words}(word\+\_\+list, format(reconstructed\+\_\+secret, \textquotesingle{}b\textquotesingle{}).zfill(dict\+\_\+bits$\ast$num\+\_\+words))
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Take JSON shares generated by create_shares.py and reconstruct the original secret phrase.


Requisites 
----------
(To read about the format needed by the following files, read the documentation in create_shares.py)

1) At least t JSON shares, in the format generated by create_shares.py, must be present in the
folder /shares. Here, t represents the threshold used when creating the shares

2) Unless the JSON shares are verbose, the file reconstruction_data.json, containing the public 
reconstruction data, should also be present in the folder. This file is not needed if the shares are
verbose, in which case one can run this script with the -v flag.


Execution and inputs
--------------------
This script should be called from the command line. It has only one optional flag

-v, --verbose: If this flag is used, the public reconstruction data is taken directly from the JSON
shares. The script verifies the consistency of this data among all the shares, throwing an exception
if this data is not consistent.


Outputs
-------
The file secret_reconstructed.txt is generated in the script's folder. The reconstructed secret is
also printed on the command line.
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\label{namespacereconstruct_aa98d05d3294020e4694a6bb2a232b741}} 
\index{reconstruct@{reconstruct}!get\_reconstruction\_data@{get\_reconstruction\_data}}
\index{get\_reconstruction\_data@{get\_reconstruction\_data}!reconstruct@{reconstruct}}
\doxysubsubsection{get\_reconstruction\_data()}
{\footnotesize\ttfamily def reconstruct.\+get\+\_\+reconstruction\+\_\+data (\begin{DoxyParamCaption}\item[{}]{dict }\end{DoxyParamCaption})}

\begin{DoxyVerb}Gets the public reconstruction data from a JSON file, in the format needed by shamir.py\end{DoxyVerb}
 